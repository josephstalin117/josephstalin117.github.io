---
layout: post
title:  "mysql"
date:   2016-05-03 21:35:35 +0800
categories: command
---

#### 操作
```
# install
sudo apt-get update
sudo apt-get install mysql-server

# start
systemctl start mysql

# Launch at reboot
systemctl enable mysql

# login
mysql -u root -p

# show status
service mysql status
```


#### 权限

```
用户授权：
GRANT ALL ON db.* TO 'myuser'@'192.168.1.3' IDENTIFIED BY 'mypassword';

创建用户
CREATE USER "allen" IDENTIFIED BY "1234";

权限刷新
FLUSH PRIVILEGES;

授权
GRANT SELECT ON *.* TO 'username'@'host_or_wildcard' IDENTIFIED BY 'password';

查询用户权限：
show grants for root@'localhost';
```

#### 导入导出

```
数据库导出:
mysqldump -u root -p -d 数据库名 > data.sql
数据库导入:
1. use database_name;
2. set names utf8; (或其他需要的编码)
3. source example.sql (sql文件存放路径)

重命名表名
rename table MyClass to YouClass;
```

#### 数据库操作

```
创建数据库，并指定字符集
CREATE DATABASE `test2` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci

更新
UPDATE table SET name='Mary' WHERE id=1;

插入
INSERT INTO worker (name) VALUES ('tom');

纵向显示数据
SELECT * FROM test\G

显示表
DESCRIBE  `table`;

创建用户权限
grant create user on *.* to admin@'localhost' with grant option;

显示用户权限
Show Grants for bob@'%';

显示mysql用户
SELECT User FROM mysql.user;

取消用户权限
REVOKE ALL PRIVILEGES ON phpmyadmin.* FROM 'phpmyadmin'@'localhost';

显示数据库
SHOW DATABASES;

选择数据库
use DATABASE;

reload
FLUSH PRIVILEGES;
```