---
layout: post
title:  "linux"
date:   2016-04-04 21:35:35 +0800
categories: command
---

#### 用户权限

```
分配用户组
usermod -a -G groupA user

显示文件最后5行内容
tail -n 5 test.log

循环查看文件内容
tail -f test.log

查看特定行内容
sed -n 5p output.txt

添加用户
sudo adduser user1
```

#### centos 系统命令

```
sudo systemctl start mysql
```

#### grep 命令

```
find . -name "*.php" | xargs grep

只输出文件中匹配到的部分 -o
grep -o 'matchcontent=[]'
```

#### Find Linux Files by Name or Extension
```
find . -name "*.err"
```

#### finding out where a program is located
```
which firefox
```

#### 网络ip设置

```
ifconfig eth0 up #启动以太网卡

sudo /etc/init.d/networking restart

route -n #查看所有路由

ifconfig eh0 0.0.0.0 #去除IP地址

ip addr add 目的/网关 dev eth0 #添加ip

sudo ip route add 目的ip/netmask via 192.168.1.1 #添加路由

ping -c 4 google.com
```

tcpdump

```
# FILTERING BY SOURCE AND DESTINATION

tcpdump src 2.3.4.5
tcpdump dst 3.4.5.6

# FIND TRAFFIC BY IP
tcpdump host 1.2.3.4

# SHOW TRAFFIC RELATED TO A SPECIFIC PORT
tcpdump port 3389
tcpdump src port 1025

```

dd

```
dd if=<source file name> of=<target file name> [Options]
```

du
```
#Size of a directory
du -sh /tmp

#Size of a file
du -h /tmp/xyz
```

tree
```
#Tee command is used to store and view (both at the same time) the output of any other command.

ls | tee file
```

环境变量添加
```
vim .profile
export PATH=$PATH:/home/jeremie/Downloads/pycharm-community-2016.3.2/bin
source .profile
```

crontab
```
sudo vim /etc/crontab
#每隔两分钟执行一次脚本
2 *   * * * root   /usr/bin/python3.5 /home/edgar/auto.py > /home/edgar/auto.log
# 分 时 日 月 周 用户 命令
* * * * * user command
# 每分钟执行一次
* * * * * user command
# 每隔2小时执行一次
* */2 * * * user command (/表示频率)
# 每天8:30分执行一次
30 8 * * * user command
# 每小时的30和50分各执行一次
30,50 * * * * user command（,表示并列）
# 每个月的3号到6号的8:30执行一次
30 8 3-6 * * user command （-表示范围）
# 每个星期一的8:30执行一次
30 8 * * 1 user command （周的范围为0-7,0和7代表周日）

```
